# AviaSearch
## Курсовой проект по веб-программированию | 5 семестр | Java 15 + Spring
Проект написан на Java 15 с использованием фреймворка Spring. В качестве шаблонизатора используется FreeMarker. Данные хранятся в базе данных MySQL, доступ к которой осуществляется с помощью Spring Data репозиториев. Сайт располагается на Apache. Авторизация производится с помощью Spring Security.    
### Функционал:
- Регистрация / Авторизация
- Изменение пароля и всех данных пользователя
- Выдача списка билетов, доступных для покупки. Введена проверка на дату вылета, выдаются только релевантные билеты.
- Возможность покупки билетов с пересадками, при покупке такого билета покупаются все билеты, необходимые для поездки.
- Возврат билетов
- Админ-панель с возможностью редактирования, добавления, удаления всех данных.   
____
### Структура БД:
База данных содержит 13 таблиц, 3 из которых системные – они нужны для корректной работы Spring и хранения сессии пользователей.
Рассмотрим предназначение основных таблиц:
- Tickets – основная таблица. Необходима для хранения данных о билетах на продажу.
-	Booked_Tickets – хранит информацию о приобретённых билетах.
-	Users – информация о пользователе: логин, пароль, паспортные данные, дата регистрации, ФИО, дата рождения, email, активность профиля.
-	Roles – хранит информацию о ролях. Таблицы связываются друг с другом отношением «Много-ко-Многим» с помощью дополнительной таблицы user_roles.
-	Airlines – Авиакомпании.
-	Countries – Список стран.
-	Luggage – Информация о багаже.
-	Planes – Список самолетов.
-	Airports – Список аэропортов.   
![5](https://user-images.githubusercontent.com/20266345/117109676-ae3a9180-ad8d-11eb-9b6b-af927f684956.jpg)
____
### Скриншоты некоторых страниц:
![1](https://user-images.githubusercontent.com/20266345/117109385-3f5d3880-ad8d-11eb-98c3-5e7cf5ec985b.jpg)
![2](https://user-images.githubusercontent.com/20266345/117109392-408e6580-ad8d-11eb-9179-8eab524f9d4c.jpg)
![3](https://user-images.githubusercontent.com/20266345/117109395-4126fc00-ad8d-11eb-803d-7785fedb24de.jpg)
![4](https://user-images.githubusercontent.com/20266345/117109396-41bf9280-ad8d-11eb-9800-7afc2e016af6.jpg)
### Известные проблемы:
- Не указан CascadeType.Delete, из-за чего невозможно удалить данные из таблицы, от которых зависят другие таблицы.
